To create this variable groups, customize and run this command in the Azure Cloud Shell:

  az login
  az devops configure --defaults organization=https://dev.azure.com/<yourAzDOOrg>/ 
  az devops configure --defaults project='<yourAzDOProject>' 

  az pipelines variable-group create 
    --organization=https://dev.azure.com/<yourAzDOOrg>/ 
    --project='<yourAzDOProject>' 
    --name IoTDemo-QA
    --variables 
        orgPrefix='<yourInitials>' 
        appPrefix='iotdemo' 
        appSuffix=''
        environmentCode='qa' 
        serviceConnectionName='<yourServiceConnection>' 
        subscriptionId='<yourSubscriptionId>' 
        resourceGroupName='rg_iotdemo_qa'
        location='eastus' 
        bicepDirectory='.infrastructure/Bicep/' 
        bicepFileName='main.bicep'
        storageSku='Standard_LRS' 
        functionAppName='<yourInitials>-iotdemo-process-qa' 
        functionAppSku='Y1' functionAppSkuFamily='Y' functionAppSkuTier='Dynamic' 
        webAppName=<yourInitials>-iotdemo-dashboard-qa
        webSiteSku='B1'
        keyVaultOwnerUserId1='<userGuid>'
        keyVaultOwnerUserId2='<userGuid>'
        acrName='<bicep container registry name>'
        acrPassword='<bicep container admin password>'
        principalId='<service principal with access to bicep container registry>'
        tenantId='<service principal tenant id>'
        clientSecret='<service principal client secret>'